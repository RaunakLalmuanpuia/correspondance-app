import{h as F,x as h,r as B,a as L,b as M,d as N,e as l,f as a,Q as u,u as t,i as q}from"./app-WZ1ru_N_.js";import{Q as R}from"./QSelect-CkXOu_Fc.js";import{Q as T}from"./QForm-DP5BZNoZ.js";import{Q as z}from"./SFooter.vue_vue_type_style_index_0_scoped_db59b318_lang-lV-oJIst.js";import{_ as A}from"./BackendLayout-Bsy9mSmF.js";import"./QField-5LHUvhbi.js";import"./QChip-zJbo8JyV.js";const I={class:"col-xs-12"},O={class:"col-xs-12 col-sm-6"},P={class:"col-xs-12 col-sm-6"},E={class:"col-xs-12"},G={class:"col-xs-12"},H={class:"col-xs-12"},J={class:"col-xs-12"},K={class:"flex q-gutter-sm"},le=Object.assign({layout:A},{__name:"Create",props:["designated_cells"],setup(U){const c=F({submitting:!1}),r=h({subject:"",letter_no:"",letter_date:"",received_from:"",cell:null,name_of_da:""}),m=B("");function Y(i){if(!i)return!1;const[e,s,d]=i.split("/"),n=new Date(`${d}-${s}-${e}`);return!isNaN(n.getTime())&&n.getDate()==e&&n.getMonth()+1==s&&n.getFullYear()==d}function k(){if(!m.value)return null;const[i,e,s]=m.value.split("/");return`${s}-${e}-${i}`}const C=i=>{r.letter_date=k(),r.transform(e=>{var s;return{cell_id:(s=e==null?void 0:e.cell)==null?void 0:s.value,...e}}).post(route("receipts.store"),{preserveState:!0,onStart:e=>c.submitting=!0,onFinish:e=>c.submitting=!1})};return(i,e)=>(M(),L(z,{class:"container",padding:""},{default:N(()=>[e[7]||(e[7]=l("div",{class:"flex justify-between items-center"},[l("div",null,[l("div",{class:"stitle"},"New Receipt")])],-1)),e[8]||(e[8]=l("br",null,null,-1)),a(T,{class:"row q-col-gutter-sm",style:{"max-width":"720px"},onSubmit:C},{default:N(()=>{var s,d,n,g,f,p,_,b,v,V,x,y,w,D,S,j,Q,$;return[l("div",I,[a(u,{modelValue:t(r).subject,"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).subject=o),error:!!((s=t(r).errors)!=null&&s.subject),"error-message":(n=(d=t(r).errors)==null?void 0:d.subject)==null?void 0:n.toString(),rules:[o=>!!o||"Subject is required"],"bg-color":"white",label:"Subject","no-error-icon":"",outlined:"",autogrow:"",type:"textarea"},null,8,["modelValue","error","error-message","rules"])]),l("div",O,[a(u,{modelValue:t(r).letter_no,"onUpdate:modelValue":e[1]||(e[1]=o=>t(r).letter_no=o),error:!!((g=t(r).errors)!=null&&g.letter_no),"error-message":(p=(f=t(r).errors)==null?void 0:f.letter_no)==null?void 0:p.toString(),rules:[o=>!!o||"Letter No. is required"],"bg-color":"white",label:"Letter No.","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),l("div",P,[a(u,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=o=>m.value=o),label:"Letter Date (DD/MM/YYYY)",outlined:"","bg-color":"white",mask:"##/##/####","fill-mask":"",placeholder:"dd/mm/yyyy",error:!!((_=t(r).errors)!=null&&_.letter_date),"error-message":(v=(b=t(r).errors)==null?void 0:b.letter_date)==null?void 0:v.toString(),"no-error-icon":"",rules:[o=>!!o||"Letter Date is required",o=>Y(o)||"The letter date field must be a valid date."]},null,8,["modelValue","error","error-message","rules"])]),l("div",E,[a(u,{modelValue:t(r).received_from,"onUpdate:modelValue":e[3]||(e[3]=o=>t(r).received_from=o),error:!!((V=t(r).errors)!=null&&V.received_from),"error-message":(y=(x=t(r).errors)==null?void 0:x.received_from)==null?void 0:y.toString(),rules:[o=>!!o||"Received From is required"],autogrow:"",type:"textarea","bg-color":"white",label:"Received From","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),l("div",G,[a(R,{modelValue:t(r).cell,"onUpdate:modelValue":e[4]||(e[4]=o=>t(r).cell=o),error:!!((w=t(r).errors)!=null&&w.cell_id),"error-message":(S=(D=t(r).errors)==null?void 0:D.cell_id)==null?void 0:S.toString(),options:U.designated_cells,"bg-color":"white",label:"Designated Cell","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","options"])]),l("div",H,[a(u,{modelValue:t(r).name_of_da,"onUpdate:modelValue":e[5]||(e[5]=o=>t(r).name_of_da=o),error:!!((j=t(r).errors)!=null&&j.name_of_da),"error-message":($=(Q=t(r).errors)==null?void 0:Q.name_of_da)==null?void 0:$.toString(),"bg-color":"white",label:"Name of D.A","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message"])]),l("div",J,[l("div",K,[a(q,{loading:c.submitting,class:"sized-btn",color:"primary",label:"Save",type:"submit"},null,8,["loading"]),a(q,{class:"sized-btn",color:"negative",label:"Cancel",outline:"",onClick:e[6]||(e[6]=o=>i.$inertia.get(i.route("issues.index")))})])])]}),_:1})]),_:1,__:[7,8]}))}});export{le as default};
