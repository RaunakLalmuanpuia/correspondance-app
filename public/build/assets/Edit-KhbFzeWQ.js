import{h as G,r as I,x as H,a as J,b as K,d,e as s,f as a,Q as u,u as o,i as T,j as A}from"./app-DC8lp303.js";import{Q as W,a as X}from"./QPopupProxy-C2S_RBiH.js";import{Q as Z}from"./QSelect-CzZ9KgUb.js";import{Q as ee}from"./QForm-BtPRALNX.js";import{Q as re}from"./SFooter.vue_vue_type_style_index_0_scoped_db59b318_lang-DtCeipVe.js";import{_ as oe}from"./BackendLayout-CB6PiZaO.js";/* empty css            */import"./date-BzkBqd9x.js";import"./QField-Chu_ah_d.js";import"./QChip-Bg8TkQi2.js";const te={class:"col-xs-12"},le={class:"col-xs-12 col-sm-6"},se={class:"col-xs-12 col-sm-6"},ae={class:"col-xs-12"},ie={class:"col-xs-12"},ne={class:"col-xs-12"},de={class:"col-xs-12"},ue={class:"flex q-gutter-sm"},we=Object.assign({layout:oe},{__name:"Edit",props:["designated_cells","data"],setup(f){var b,v,V,x,w,Q,S,y,D;const l=f,c=G({submitting:!1}),_=I(null),r=H({subject:((b=l.data)==null?void 0:b.subject)||"",letter_no:((v=l.data)==null?void 0:v.letter_no)||"",letter_date:((V=l.data)==null?void 0:V.letter_date)||"",received_from:((x=l.data)==null?void 0:x.received_from)||"",cell:{value:(w=l==null?void 0:l.data)==null?void 0:w.cell_id,label:(S=(Q=l==null?void 0:l.data)==null?void 0:Q.cell)==null?void 0:S.name},name_of_da:((y=l.data)==null?void 0:y.name_of_da)||""}),p=I(g((D=l.data)==null?void 0:D.letter_date));function g(i){if(!i)return"";const[e,n,m]=i.split("-");return`${m}/${n}/${e}`}function O(i){p.value=g(i)}const h=i=>{r.transform(e=>{var n;return{cell_id:(n=e==null?void 0:e.cell)==null?void 0:n.value,...e}}).put(route("receipts.update",l.data.id),{preserveState:!0,onStart:e=>c.submitting=!0,onFinish:e=>c.submitting=!1})};return(i,e)=>(K(),J(re,{class:"container",padding:""},{default:d(()=>[e[9]||(e[9]=s("div",{class:"flex justify-between items-center"},[s("div",null,[s("div",{class:"stitle"},"Edit Receipt")])],-1)),e[10]||(e[10]=s("br",null,null,-1)),a(ee,{class:"row q-col-gutter-sm",style:{"max-width":"720px"},onSubmit:h},{default:d(()=>{var n,m,j,Y,U,$,k,q,C,M,N,R,B,F,L,P,z,E;return[s("div",te,[a(u,{modelValue:o(r).subject,"onUpdate:modelValue":e[0]||(e[0]=t=>o(r).subject=t),error:!!((n=o(r).errors)!=null&&n.subject),"error-message":(j=(m=o(r).errors)==null?void 0:m.subject)==null?void 0:j.toString(),rules:[t=>!!t||"Subject is required"],"bg-color":"white",label:"Subject","no-error-icon":"",outlined:"",autogrow:"",type:"textarea"},null,8,["modelValue","error","error-message","rules"])]),s("div",le,[a(u,{modelValue:o(r).letter_no,"onUpdate:modelValue":e[1]||(e[1]=t=>o(r).letter_no=t),error:!!((Y=o(r).errors)!=null&&Y.letter_no),"error-message":($=(U=o(r).errors)==null?void 0:U.letter_no)==null?void 0:$.toString(),rules:[t=>!!t||"Letter No. is required"],"bg-color":"white",label:"Letter No.","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),s("div",se,[a(u,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t),label:"Letter Date (DD/MM/YYYY)",outlined:"","bg-color":"white",readonly:"",error:!!((k=o(r).errors)!=null&&k.letter_date),"error-message":(C=(q=o(r).errors)==null?void 0:q.letter_date)==null?void 0:C.toString(),"no-error-icon":"",onClick:e[4]||(e[4]=t=>_.value.show())},{append:d(()=>[a(T,{name:"event",class:"cursor-pointer"},{default:d(()=>[a(W,{ref_key:"popupRef",ref:_,cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[a(X,{modelValue:o(r).letter_date,"onUpdate:modelValue":[e[2]||(e[2]=t=>o(r).letter_date=t),O],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue","error","error-message"])]),s("div",ae,[a(u,{modelValue:o(r).received_from,"onUpdate:modelValue":e[5]||(e[5]=t=>o(r).received_from=t),error:!!((M=o(r).errors)!=null&&M.received_from),"error-message":(R=(N=o(r).errors)==null?void 0:N.received_from)==null?void 0:R.toString(),rules:[t=>!!t||"Received From is required"],autogrow:"",type:"textarea","bg-color":"white",label:"Received From","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),s("div",ie,[a(Z,{modelValue:o(r).cell,"onUpdate:modelValue":e[6]||(e[6]=t=>o(r).cell=t),error:!!((B=o(r).errors)!=null&&B.cell_id),"error-message":(L=(F=o(r).errors)==null?void 0:F.cell_id)==null?void 0:L.toString(),options:f.designated_cells,"bg-color":"white",label:"Designated Cell","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","options"])]),s("div",ne,[a(u,{modelValue:o(r).name_of_da,"onUpdate:modelValue":e[7]||(e[7]=t=>o(r).name_of_da=t),error:!!((P=o(r).errors)!=null&&P.name_of_da),"error-message":(E=(z=o(r).errors)==null?void 0:z.name_of_da)==null?void 0:E.toString(),"bg-color":"white",label:"Name of D.A","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message"])]),s("div",de,[s("div",ue,[a(A,{loading:c.submitting,class:"sized-btn",color:"primary",label:"Save",type:"submit"},null,8,["loading"]),a(A,{class:"sized-btn",color:"negative",label:"Cancel",outline:"",onClick:e[8]||(e[8]=t=>i.$inertia.get(i.route("receipts.index")))})])])]}),_:1})]),_:1,__:[9,10]}))}});export{we as default};
