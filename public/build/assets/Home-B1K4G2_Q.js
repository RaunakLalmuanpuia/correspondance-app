import{Q as I,a as C}from"./QBreadcrumbs-C7BP0WQB.js";import{Q as N}from"./SFooter.vue_vue_type_style_index_0_scoped_db59b318_lang-DFkZKHFk.js";import{_ as E}from"./BackendLayout-BAkjwpGc.js";import{N as x,b as _,e,t as r,ay as w,c as m,a as M,d as k,f as o,u as b,O as L,R as O}from"./app-XiuNzAtx.js";import{B as P,P as D,L as Q}from"./index-g_Bt7CUy.js";const j={class:"flex items-center justify-between"},A={style:{"padding-left":"10px","padding-top":"5px"}},U={class:"text-gray-500 text-sm font-medium"},g={__name:"StatCard",props:{title:String,value:Number,color:String,icon:String},setup(n){return(h,c)=>(_(),x("div",{class:"bg-white rounded-lg shadow-md p-6 border-l-4",style:w({borderLeftColor:n.color})},[e("div",j,[e("div",A,[e("p",U,r(n.title),1),e("p",{class:"text-3xl font-bold mt-2",style:w({color:n.color})},r(n.value),5)])])],4))}},V={class:"flex items-center justify-between q-pa-md bg-white"},q={class:"min-h-screen bg-gray-50 p-8"},z={class:"max-w-7xl mx-auto"},F={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},H={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},W={class:"bg-white rounded-lg shadow-md p-6"},Y={class:"bg-white rounded-lg shadow-md p-6"},G={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},J={class:"bg-white rounded-lg shadow-md p-6"},K={class:"bg-white rounded-lg shadow-md p-6"},X={class:"bg-white rounded-lg shadow-md p-6"},Z={class:"overflow-x-auto"},ee={class:"min-w-full divide-y divide-gray-200"},te={class:"bg-white divide-y divide-gray-200"},se={class:"px-6 py-4 text-sm font-medium text-gray-900"},ae={class:"px-6 py-4 text-sm text-gray-500"},le={class:"px-6 py-4 text-sm text-gray-500"},oe={class:"px-6 py-4 text-sm font-semibold text-gray-900"},ue=Object.assign({layout:E},{__name:"Home",setup(n){const h=[{id:1,name:"Accounts"},{id:2,name:"DIC"},{id:3,name:"Establishment"},{id:4,name:"Technical (Monitoring)"},{id:5,name:"Technical (Urban)"},{id:6,name:"Technical (Rural)"}],c=[{id:1,cell_id:5,letter_date:"2025-10-12"},{id:2,cell_id:2,letter_date:"2025-10-12"},{id:3,cell_id:4,letter_date:"2025-10-16"},{id:4,cell_id:6,letter_date:"2025-10-26"},{id:5,cell_id:1,letter_date:"2025-10-17"},{id:6,cell_id:1,letter_date:"2025-11-03"},{id:7,cell_id:3,letter_date:"2025-10-10"},{id:8,cell_id:4,letter_date:"2025-10-21"},{id:9,cell_id:4,letter_date:"2025-10-19"},{id:10,cell_id:3,letter_date:"2025-10-07"}],p=[{id:1,cell_id:2,letter_date:"2025-10-19"},{id:2,cell_id:1,letter_date:"2025-10-26"},{id:3,cell_id:5,letter_date:"2025-10-07"},{id:4,cell_id:4,letter_date:"2025-11-02"},{id:5,cell_id:1,letter_date:"2025-10-17"},{id:6,cell_id:1,letter_date:"2025-10-11"},{id:7,cell_id:4,letter_date:"2025-11-03"},{id:8,cell_id:4,letter_date:"2025-10-27"},{id:9,cell_id:6,letter_date:"2025-10-18"},{id:10,cell_id:4,letter_date:"2025-10-22"}],i=m(()=>h.map(s=>({name:s.name,issues:c.filter(t=>t.cell_id===s.id).length,receipts:p.filter(t=>t.cell_id===s.id).length}))),S=m(()=>({labels:i.value.map(s=>s.name),datasets:[{label:"Issues",data:i.value.map(s=>s.issues),backgroundColor:"#3b82f6"},{label:"Receipts",data:i.value.map(s=>s.receipts),backgroundColor:"#ec4899"}]})),R=m(()=>({labels:i.value.map(s=>s.name),datasets:[{data:i.value.map(s=>s.issues),backgroundColor:["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#06b6d4"]}]})),T=m(()=>({labels:i.value.map(s=>s.name),datasets:[{data:i.value.map(s=>s.receipts),backgroundColor:["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#06b6d4"]}]})),B=m(()=>{const s=c.map(a=>a.letter_date.substring(0,7)),t=p.map(a=>a.letter_date.substring(0,7)),l={},d={},y={};s.forEach(a=>l[a]=(l[a]||0)+1),t.forEach(a=>d[a]=(d[a]||0)+1);const u=Array.from(new Set([...s,...t])).sort();return u.forEach(a=>{y[a]=(l[a]||0)+(d[a]||0)}),{labels:u.map(a=>$(a)),datasets:[{label:"Issues",data:u.map(a=>l[a]||0),borderColor:"#3b82f6",backgroundColor:"#3b82f6",tension:.4},{label:"Receipts",data:u.map(a=>d[a]||0),borderColor:"#ec4899",backgroundColor:"#ec4899",tension:.4},{label:"Total Correspondence",data:u.map(a=>y[a]||0),borderColor:"#10b981",backgroundColor:"#10b981",borderWidth:3,tension:.4}]}}),$=s=>{const[t,l]=s.split("-");return new Date(Number(t),Number(l)-1).toLocaleString("en-US",{month:"short",year:"numeric"})},f={responsive:!0,maintainAspectRatio:!1},v={responsive:!0,plugins:{legend:{position:"bottom"}}};return(s,t)=>(_(),M(N,{class:"container",padding:""},{default:k(()=>[e("div",V,[e("div",null,[t[2]||(t[2]=e("div",{class:"stitle"},"Dashboard",-1)),o(I,{class:"text-dark"},{default:k(()=>[o(C,{class:"cursor-pointer",icon:"outbox",label:"Issue",onClick:t[0]||(t[0]=l=>s.$inertia.get(s.route("issues.index")))}),o(C,{class:"cursor-pointer",icon:"inbox",label:"Receipt",onClick:t[1]||(t[1]=l=>s.$inertia.get(s.route("receipts.index")))})]),_:1})])]),e("div",q,[e("div",z,[t[9]||(t[9]=e("div",{class:"mb-8"},[e("h1",{class:"stitle"}," Correspondence Management System "),e("p",{class:"text-gray-600"},"Dashboard Overview - November 2025")],-1)),e("div",F,[o(g,{title:"Total Cells",value:h.length,color:"#3b82f6",icon:"users"},null,8,["value"]),o(g,{title:"Total Issues",value:c.length,color:"#8b5cf6",icon:"file"},null,8,["value"]),o(g,{title:"Total Receipts",value:p.length,color:"#ec4899",icon:"mail"},null,8,["value"]),o(g,{title:"Total Correspondence",value:c.length+p.length,color:"#10b981",icon:"trending-up"},null,8,["value"])]),e("div",H,[e("div",W,[t[3]||(t[3]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Issues & Receipts by Cell",-1)),o(b(P),{"chart-data":S.value,"chart-options":f},null,8,["chart-data"])]),e("div",Y,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Issues Distribution by Cell",-1)),o(b(D),{"chart-data":R.value,"chart-options":v},null,8,["chart-data"])])]),e("div",G,[e("div",J,[t[5]||(t[5]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Correspondence Timeline",-1)),o(b(Q),{"chart-data":B.value,"chart-options":f},null,8,["chart-data"])]),e("div",K,[t[6]||(t[6]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Receipts Distribution by Cell",-1)),o(b(D),{"chart-data":T.value,"chart-options":v},null,8,["chart-data"])])]),e("div",X,[t[8]||(t[8]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Cell-wise Summary",-1)),e("div",Z,[e("table",ee,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Cell Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Issues"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Receipts"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Total")])],-1)),e("tbody",te,[(_(!0),x(L,null,O(i.value,(l,d)=>(_(),x("tr",{key:d,class:"hover:bg-gray-50"},[e("td",se,r(l.name),1),e("td",ae,r(l.issues),1),e("td",le,r(l.receipts),1),e("td",oe,r(l.issues+l.receipts),1)]))),128))])])])])])])]),_:1}))}});export{ue as default};
