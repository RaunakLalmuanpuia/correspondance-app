import{h as G,r as F,x as H,a as J,b as K,d as i,e as s,f as a,Q as u,u as t,i as T,j as R}from"./app-DC8lp303.js";import{Q as W,a as X}from"./QPopupProxy-C2S_RBiH.js";import{Q as Z}from"./QSelect-CzZ9KgUb.js";import{Q as ee}from"./QForm-BtPRALNX.js";import{Q as re}from"./SFooter.vue_vue_type_style_index_0_scoped_db59b318_lang-DtCeipVe.js";import{_ as te}from"./BackendLayout-CB6PiZaO.js";import{u as oe}from"./use-quasar-B7PiYgOM.js";/* empty css            */import"./date-BzkBqd9x.js";import"./QField-Chu_ah_d.js";import"./QChip-Bg8TkQi2.js";const le={class:"col-xs-12 col-sm-6"},se={class:"col-xs-12 col-sm-6"},ae={class:"col-xs-12"},ne={class:"col-xs-12 col-sm-6"},de={class:"col-xs-12 col-sm-6"},ie={class:"col-xs-12"},ue={class:"col-xs-12"},me={class:"flex q-gutter-sm"},Qe=Object.assign({layout:te},{__name:"Edit",props:["designated_cells","data"],setup(p){var f,v,V,y,x,w,Q,D,S;const l=p,c=G({submitting:!1}),g=F(null);oe();const r=H({letter_addressee_main:((f=l.data)==null?void 0:f.letter_addressee_main)||"",letter_addressee_copy_to:((v=l.data)==null?void 0:v.letter_addressee_copy_to)||"",subject:((V=l.data)==null?void 0:V.subject)||"",letter_no:((y=l.data)==null?void 0:y.letter_no)||"",letter_date:((x=l.data)==null?void 0:x.letter_date)||"",cell:{value:(w=l==null?void 0:l.data)==null?void 0:w.cell_id,label:(D=(Q=l==null?void 0:l.data)==null?void 0:Q.cell)==null?void 0:D.name}}),_=F(b((S=l.data)==null?void 0:S.letter_date));function b(n){if(!n)return"";const[e,d,m]=n.split("-");return`${m}/${d}/${e}`}function O(n){_.value=b(n)}const h=n=>{r.transform(e=>{var d;return{cell_id:(d=e==null?void 0:e.cell)==null?void 0:d.value,...e}}).put(route("issues.update",l.data.id),{preserveState:!0,onStart:e=>c.submitting=!0,onFinish:e=>c.submitting=!1})};return(n,e)=>(K(),J(re,{class:"container text-center",padding:""},{default:i(()=>[e[9]||(e[9]=s("div",{class:"flex justify-between items-center"},[s("div",null,[s("div",{class:"stitle"},"Edit Issue")])],-1)),e[10]||(e[10]=s("br",null,null,-1)),a(ee,{class:"row q-col-gutter-sm",style:{"max-width":"720px"},onSubmit:h},{default:i(()=>{var d,m,j,Y,U,M,$,k,C,L,B,A,I,N,P,q,z,E;return[s("div",le,[a(u,{modelValue:t(r).letter_addressee_main,"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).letter_addressee_main=o),error:!!((d=t(r).errors)!=null&&d.letter_addressee_main),"error-message":(j=(m=t(r).errors)==null?void 0:m.letter_addressee_main)==null?void 0:j.toString(),rules:[o=>!!o||"Letter Addressee(Main)"],autogrow:"",type:"textarea","bg-color":"white",label:"Letter Addressee(Main)","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),s("div",se,[a(u,{modelValue:t(r).letter_addressee_copy_to,"onUpdate:modelValue":e[1]||(e[1]=o=>t(r).letter_addressee_copy_to=o),error:!!((Y=t(r).errors)!=null&&Y.letter_addressee_copy_to),"error-message":(M=(U=t(r).errors)==null?void 0:U.letter_addressee_copy_to)==null?void 0:M.toString(),autogrow:"",type:"textarea","bg-color":"white",label:"Letter Addressee (Copy-to)","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message"])]),s("div",ae,[a(u,{modelValue:t(r).subject,"onUpdate:modelValue":e[2]||(e[2]=o=>t(r).subject=o),error:!!(($=t(r).errors)!=null&&$.subject),"error-message":(C=(k=t(r).errors)==null?void 0:k.subject)==null?void 0:C.toString(),"bg-color":"white",label:"Subject","no-error-icon":"",outlined:"",autogrow:"",type:"textarea"},null,8,["modelValue","error","error-message"])]),s("div",ne,[a(u,{modelValue:t(r).letter_no,"onUpdate:modelValue":e[3]||(e[3]=o=>t(r).letter_no=o),error:!!((L=t(r).errors)!=null&&L.letter_no),"error-message":(A=(B=t(r).errors)==null?void 0:B.letter_no)==null?void 0:A.toString(),"bg-color":"white",label:"Letter No","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message"])]),s("div",de,[a(u,{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=o=>_.value=o),label:"Letter Date (DD/MM/YYYY)",outlined:"","bg-color":"white",readonly:"",error:!!((I=t(r).errors)!=null&&I.letter_date),"error-message":(P=(N=t(r).errors)==null?void 0:N.letter_date)==null?void 0:P.toString(),"no-error-icon":"",onClick:e[6]||(e[6]=o=>g.value.show())},{append:i(()=>[a(T,{name:"event",class:"cursor-pointer"},{default:i(()=>[a(W,{ref_key:"popupRef",ref:g,cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[a(X,{modelValue:t(r).letter_date,"onUpdate:modelValue":[e[4]||(e[4]=o=>t(r).letter_date=o),O],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue","error","error-message"])]),s("div",ie,[a(Z,{modelValue:t(r).cell,"onUpdate:modelValue":e[7]||(e[7]=o=>t(r).cell=o),error:!!((q=t(r).errors)!=null&&q.cell_id),"error-message":(E=(z=t(r).errors)==null?void 0:z.cell_id)==null?void 0:E.toString(),options:p.designated_cells,"bg-color":"white",label:"Designated Cell","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","options"])]),s("div",ue,[s("div",me,[a(R,{loading:c.submitting,class:"sized-btn",color:"primary",label:"Update",type:"submit"},null,8,["loading"]),a(R,{class:"sized-btn",color:"negative",label:"Cancel",outline:"",onClick:e[8]||(e[8]=o=>n.$inertia.replace(n.route("office.index")))})])])]}),_:1})]),_:1,__:[9,10]}))}});export{Qe as default};
