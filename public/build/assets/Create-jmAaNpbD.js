import{h as A,r as M,x as B,a as I,b as P,d as i,e as s,f as l,Q as d,u as t,i as z,j as U}from"./app-DC8lp303.js";import{Q as F,a as R}from"./QPopupProxy-C2S_RBiH.js";import{Q as O}from"./QSelect-CzZ9KgUb.js";import{Q as h}from"./QForm-BtPRALNX.js";import{Q as E}from"./SFooter.vue_vue_type_style_index_0_scoped_db59b318_lang-DtCeipVe.js";import{_ as G}from"./BackendLayout-CB6PiZaO.js";/* empty css            */import"./date-BzkBqd9x.js";import"./QField-Chu_ah_d.js";import"./QChip-Bg8TkQi2.js";const H={class:"col-xs-12 col-sm-6"},J={class:"col-xs-12 col-sm-6"},K={class:"col-xs-12"},T={class:"col-xs-12 col-sm-6"},W={class:"col-xs-12 col-sm-6"},X={class:"col-xs-12"},Z={class:"col-xs-12"},ee={class:"flex q-gutter-sm"},me=Object.assign({layout:G},{__name:"Create",props:["designated_cells"],setup($){const m=A({submitting:!1}),c=M(null),r=B({letter_addressee_main:"",letter_addressee_copy_to:"",subject:"",letter_no:"",letter_date:"",cell:null}),p=M("");function k(a){if(!a)return"";const[e,n,u]=a.split("-");return`${u}/${n}/${e}`}function N(a){p.value=k(a)}const q=a=>{r.transform(e=>{var n;return{cell_id:(n=e==null?void 0:e.cell)==null?void 0:n.value,...e}}).post(route("issues.store"),{preserveState:!0,onStart:e=>m.submitting=!0,onFinish:e=>m.submitting=!1})};return(a,e)=>(P(),I(E,{class:"container",padding:""},{default:i(()=>[e[9]||(e[9]=s("div",{class:"flex justify-between items-center"},[s("div",null,[s("div",{class:"stitle"},"New Issue")])],-1)),e[10]||(e[10]=s("br",null,null,-1)),l(h,{class:"row q-col-gutter-sm",style:{"max-width":"720px"},onSubmit:q},{default:i(()=>{var n,u,_,g,b,f,v,V,y,x,w,Q,S,D,j,Y,C,L;return[s("div",H,[l(d,{modelValue:t(r).letter_addressee_main,"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).letter_addressee_main=o),error:!!((n=t(r).errors)!=null&&n.letter_addressee_main),"error-message":(_=(u=t(r).errors)==null?void 0:u.letter_addressee_main)==null?void 0:_.toString(),rules:[o=>!!o||"Letter Addressee(Main)"],autogrow:"",type:"textarea","bg-color":"white",label:"Letter Addressee(Main)","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),s("div",J,[l(d,{modelValue:t(r).letter_addressee_copy_to,"onUpdate:modelValue":e[1]||(e[1]=o=>t(r).letter_addressee_copy_to=o),error:!!((g=t(r).errors)!=null&&g.letter_addressee_copy_to),"error-message":(f=(b=t(r).errors)==null?void 0:b.letter_addressee_copy_to)==null?void 0:f.toString(),rules:[o=>!!o||"Letter Addressee (Copy-to)"],autogrow:"",type:"textarea","bg-color":"white",label:"Letter Addressee (Copy-to)","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),s("div",K,[l(d,{modelValue:t(r).subject,"onUpdate:modelValue":e[2]||(e[2]=o=>t(r).subject=o),error:!!((v=t(r).errors)!=null&&v.subject),"error-message":(y=(V=t(r).errors)==null?void 0:V.subject)==null?void 0:y.toString(),rules:[o=>!!o||"Subject is required"],autogrow:"",type:"textarea","bg-color":"white",label:"Subject","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),s("div",T,[l(d,{modelValue:t(r).letter_no,"onUpdate:modelValue":e[3]||(e[3]=o=>t(r).letter_no=o),error:!!((x=t(r).errors)!=null&&x.letter_no),"error-message":(Q=(w=t(r).errors)==null?void 0:w.letter_no)==null?void 0:Q.toString(),rules:[o=>!!o||"Letter No is required"],"bg-color":"white",label:"Letter No","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","rules"])]),s("div",W,[l(d,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=o=>p.value=o),label:"Letter Date (DD/MM/YYYY)",outlined:"","bg-color":"white",readonly:"",error:!!((S=t(r).errors)!=null&&S.letter_date),"error-message":(j=(D=t(r).errors)==null?void 0:D.letter_date)==null?void 0:j.toString(),"no-error-icon":"",onClick:e[6]||(e[6]=o=>c.value.show())},{append:i(()=>[l(z,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(F,{ref_key:"popupRef",ref:c,cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(R,{modelValue:t(r).letter_date,"onUpdate:modelValue":[e[4]||(e[4]=o=>t(r).letter_date=o),N],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue","error","error-message"])]),s("div",X,[l(O,{modelValue:t(r).cell,"onUpdate:modelValue":e[7]||(e[7]=o=>t(r).cell=o),error:!!((Y=t(r).errors)!=null&&Y.cell_id),"error-message":(L=(C=t(r).errors)==null?void 0:C.cell_id)==null?void 0:L.toString(),options:$.designated_cells,"bg-color":"white",label:"Designated Cell","no-error-icon":"",outlined:""},null,8,["modelValue","error","error-message","options"])]),s("div",Z,[s("div",ee,[l(U,{loading:m.submitting,class:"sized-btn",color:"primary",label:"Save",type:"submit"},null,8,["loading"]),l(U,{class:"sized-btn",color:"negative",label:"Cancel",outline:"",onClick:e[8]||(e[8]=o=>a.$inertia.get(a.route("issues.index")))})])])]}),_:1})]),_:1,__:[9,10]}))}});export{me as default};
